<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="/start_script.py" timestamp="1531757919707">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/Desktop/fileload V1.1/fileload.py" timestamp="1532628272649">
        <mark key="a" line="837" column="20" />
        <mark key="[" line="797" column="47" />
        <mark key="]" line="782" column="94" />
        <mark key="." line="782" column="94" />
        <mark key="^" line="782" column="94" />
      </file>
      <file name="/Dummy.txt" timestamp="1532381852178">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/PycharmProjects/untitled3/remotefindssh.sh" timestamp="1531864498787">
        <mark key="]" line="5" column="0" />
        <mark key="^" line="5" column="0" />
        <mark key="." line="5" column="0" />
      </file>
      <file name="/a.dummy" timestamp="1532381392073">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/PycharmProjects/flipframework/remotessh.sh.txt" timestamp="1531432841225">
        <mark key="[" line="19" column="19" />
      </file>
      <file name="$USER_HOME$/Desktop/git clone/fileload.py" timestamp="1531757013292">
        <mark key="[" line="533" column="60" />
        <mark key="]" line="527" column="11" />
        <mark key="." line="527" column="11" />
        <mark key="^" line="527" column="11" />
      </file>
      <file name="$USER_HOME$/Desktop/Fileload/framework/fileload.py" timestamp="1531759962651">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="0" />
        <mark key="." line="0" column="0" />
      </file>
    </filemarks>
    <jumps />
    <registers>
      <register name="1" type="4">
        <text>de_msg
        emAil(fnlStrg</text>
      </register>
      <register name="&quot;" type="4">
        <text>,&quot;Error LOG File&quot;</text>
      </register>
      <register name="2" type="4">
        <text encoding="base64">JycnCkNyZWF0ZWQgb24gRmViIDE2LCAyMDE3CgpAYXV0aG9yOiBkbmFnaXJlZGR5Z2FyaQonJycKaW1wb3J0IG9zLHN5cwppbXBvcnQganNvbgppbXBvcnQgcHN5Y29wZzIKaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBkYXRldGltZSx0aW1lCmltcG9ydCBjb21tYW5kcwppbXBvcnQgbG9nZ2luZwppbXBvcnQgc210cGxpYgppbXBvcnQgYmFzZTY0CmltcG9ydCBzdWJwcm9jZXNzCmZyb20gZW1haWwubWltZS5tdWx0aXBhcnQgaW1wb3J0IE1JTUVNdWx0aXBhcnQKZnJvbSBlbWFpbC5taW1lLmFwcGxpY2F0aW9uIGltcG9ydCBNSU1FQXBwbGljYXRpb24KZnJvbSBlbWFpbC5NSU1FQmFzZSBpbXBvcnQgTUlNRUJhc2UKZnJvbSBlbWFpbC5taW1lLnRleHQgaW1wb3J0IE1JTUVUZXh0CmZyb20gZW1haWwgaW1wb3J0IEVuY29kZXJzCmltcG9ydCBDb25maWdQYXJzZXIKaW1wb3J0IHJlCiNpbXBvcnQgZWJjZGljCmdfdGVzdF92YXI9J3Byb2RfcGhhc2UnCmdfZnVuY192YXI9J3JlcG9ydGluZy5maWxlbG9hZCcKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICB2YWxpZGF0ZUVtYWlsIDogIFZhbGlkYXRlcyBhbGwgdGhlIGVtYWlsIGlkIGluIHRoZSBwcm9wZXJ0eSBmaWxlIHRvIGNoZWNrIHdoZXRoZXIgdGhleSBhcmUgYWN0aXZlLiAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgUmV0cnVucyBhIGxpc3Qgb2YgdmFsaWQgZW1haWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIyAKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgICAgICAgICAgCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jICAKIy8JICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKZGVmIHZhbGlkYXRlRW1haWwoU0VSVkVSLHZhbGlkTHN0KToKICAgIGhvc3Q9U0VSVkVSCiAgICBlbWFpbFByb3A9Jy9ob21lL3BoZGZ0cHVzZXIvJXMvcHJvamVjdC9jb25maWcvRW1haWwucHJvcGVydGllcycgJShnX3Rlc3RfdmFyKQogICAgY29uZmlnID0gQ29uZmlnUGFyc2VyLlJhd0NvbmZpZ1BhcnNlcigpCiAgICBjb25maWcucmVhZChlbWFpbFByb3ApCiAgICBlbWFpbExzdD1jb25maWcuZ2V0KCdFbWFpbCBIZWFkZXInLCdlbWFpbC5pZCcpLnNwbGl0KCcsJykKICAgIHNlcnZlcj1zbXRwbGliLlNNVFAoKQogICAgc2VydmVyLnNldF9kZWJ1Z2xldmVsKDApCiAgICBzZXJ2ZXIuY29ubmVjdChob3N0KQogICAgc2VydmVyLmhlbG8oaG9zdCkKICAgIGZvciBpIGluIGVtYWlsTHN0OgogICAgICAgIHNlcnZlci5tYWlsKGkpCiAgICAgICAgY29kZSxtc2c9c2VydmVyLnJjcHQoc3RyKGkpKQogICAgICAgIGlmIGNvZGU9PTI1MDoKICAgICAgICAgICAgdmFsaWRMc3QuYXBwZW5kKGkpCiAgICBzZXJ2ZXIucXVpdCgpCiAgICByZXR1cm4gdmFsaWRMc3QKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgc2VuZEVycm9tYWlsIDogIFNlbmRzIHRoZSBlbWFpbCB0byB0aGUgbGlzdCBvZiBhY3RpdmUgdXNlcnMgd2l0aCB0aGUgRXJyb3IgYW5kIERlYnVnIGluZm9ybWF0aW9uLiAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLwkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgIFJldHJ1bnMgbm90aGluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jICAgICAgICAgIAojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIyAgCiMvCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCmRlZiBzZW5kRXJyb21haWwoZXJySW5mbyxqb2IscHJvY2Vzcyk6CiAgICBwcmludCAnRW1haWwgU3RhcnRlZCcKICAgIHRvZGF5ID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkuZGF0ZSgpCiAgICBTRVJWRVIgPSAibWFpbGhvc3Qud2FkZGVsbC5jb20iCiAgICBCT0RZPWVyckluZm8KICAgIGFkZHJlc3NfYm9vaz1bXQogICAgU1VCSkVDVD0nJwogICAgaWYgcHJvY2VzcyA9PSAnJzoKICAgIAlTVUJKRUNUPSdUYXNrZWQgRmFpbGVkIC0tICVzIGluIFBST0QgZm9yIHByb2Nlc3Mgb24gJXMnJShqb2Isc3RyKHRvZGF5KSkKICAgIGVsc2U6CglTVUJKRUNUPSdUYXNrZWQgRmFpbGVkIC0tICVzIGluIFBST0QgQCAlcyBvbiAlcyclKGpvYixwcm9jZXNzLHN0cih0b2RheSkpCiAgICBhZGRyZXNzX2Jvb2s9dmFsaWRhdGVFbWFpbChTRVJWRVIsYWRkcmVzc19ib29rKQogICAgRlJPTSA9ICJIREZTU3VwcG9ydFRlYW1Ad2FkZGVsbC5jb20iCiAgICBUTyA9ICcsJy5qb2luKGFkZHJlc3NfYm9vaykKICAgIG1zZyA9IE1JTUVNdWx0aXBhcnQoKQogICAgbXNnWydTdWJqZWN0J109IFNVQkpFQ1QKICAgIG1zZ1snRnJvbSddPSBGUk9NICAgIAogICAgbXNnWydUbyddID0gVE8JCiAgICBtc2cucHJlYW1ibGUgPSAnTXVsdGlwYXJ0IG1hc3NhZ2UuXG4nCiAgICBtc2cuYXR0YWNoKE1JTUVUZXh0KEJPRFksJ3BsYWluJykpICAgIAogICAgdHJ5OgoJc2VydmVyID0gc210cGxpYi5TTVRQKFNFUlZFUikKICAgIAlzZXJ2ZXIuc2VuZG1haWwoRlJPTSxhZGRyZXNzX2Jvb2ssbXNnLmFzX3N0cmluZygpKQoJcHJpbnQgJ01lc3NhZ2UgU2VudCcKICAgIGV4Y2VwdCBTTVRQRVhDRVBUSU9OOgoJcHJpbnQgIkVycm9yOiB1bmFibGUgdG8gc2VuZCBFcnJvciBlbWFpbCB3aXRoIGF0dGFjaG1lbnQiCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgIGdldENvbm4gOiBmZXRjaCB0aGUgcHJvcGVydHkgaW5mb3JtYXRpb24gZnJvbSB0aGUgY29uZmlndXJhdGlvbiBmaWxlIGFuZCByZXR1cm5zIC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8JUmV0cnVucyBob3N0LGRhdGFiYXNlLGhhZG9vcCBlbnZpcm9ubWVudCBsb2NhdGlvbiBhbmQgbmV0d29yayBkcml2ZSBlbnZpcm9ubWVudCBsb2NhdGlvbnMuICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jIAojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCmRlZiBnZXRDb25uKCk6CiAgICBjb25uUHJvcD0nL2hvbWUvcGhkZnRwdXNlci8lcy9wcm9qZWN0L2NvbmZpZy9ob3N0LnByb3BlcnRpZXMnJShnX3Rlc3RfdmFyKQogICAgY29uZmlnID0gQ29uZmlnUGFyc2VyLlJhd0NvbmZpZ1BhcnNlcigpCiAgICBjb25maWcucmVhZChjb25uUHJvcCkKICAgIGNvbm5Mc3Q9Y29uZmlnLmdldCgnSG9zdCBQcm9wZXJ0eScsJ0hvc3QuaWQnKS5zcGxpdCgnLCcpCiAgICBjb25uTHN0PScsJy5qb2luKGNvbm5Mc3QpCiAgICByZXR1cm4gY29ubkxzdC5zcGxpdCgnLCcpCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgcmVhZExheW91dCA6IFJlYWRzIHRoZSBqc29uIGxheW91dCBmb3IgZWFjaCBrZXkgYW5kIHJldHVybnMgdGhlIGtleXMgYW5kIHZhbHVlIGZvciB0aGUgZmxhZ3MuICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLwlSZXRydW5zIGtleXMgYW5kIHZhbHVlIGZvciB0aGUgZmxhZ3MgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgc2VxdWVuY2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgCiMvICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlX2V4dCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgIHNlcV9pZGVudF9jaGFyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jICAgICAgICAgIAojLyAgICAgICAgICAgICAgICAgICBzZWNfY29sX0ZsYWcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIyAgCiMvCSAgICAgICAgICAgICByZWNvcmRfZmxhZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCgpkZWYgcmVhZExheW91dChsb2FkKToKICAgIHJlY29yZEZsdXNoID0gJycKICAgIHJlY29yZFNlcSA9IFtdCiAgICBmb2xsd19SY2RfQ2hhcnM9JycKICAgIHJlY29yZFNlcV9leHQgPSAnJwogICAgc2VjX29yZD0nJwogICAgZm9yIGtleSx2YWx1ZSBpbiBsb2FkLml0ZW1zKCk6CiAgICAgICAgZm9yIHYgaW4gdmFsdWU6CiAgICAgICAgICAgIGlmICJyZWNvcmRfZmxhZyIgaW4gdi5rZXlzKCk6CiAgICAgICAgICAgICAgICBpZiB2WyJyZWNvcmRfZmxhZyJdID09ICdUcnVlJyBhbmQgInNlY19jb2xfRmxhZyIgbm90IGluIHYua2V5cygpOgogICAgICAgICAgICAgICAgICAgIHJlY29yZEZsdXNoPWtleQogICAgICAgICAgICAgICAgaWYgInNlY19jb2xfRmxhZyIgaW4gdi5rZXlzKCkgYW5kIHZbInJlY29yZF9mbGFnIl0gPT0gJ1RydWUnOgogICAgICAgICAgICAgICAgICAgIHNlY19vcmQ9a2V5ICAgCiAgICAgICAgICAgIGlmICJzZXF1ZW5jZSIgaW4gdi5rZXlzKCk6CiAgICAgICAgICAgICAgICBpZiB2WyJzZXF1ZW5jZSJdID09ICdUcnVlJzoKICAgICAgICAgICAgICAgICAgICByZWNvcmRTZXEuYXBwZW5kKGtleSkKICAgICAgICAgICAgaWYgInNlcXVlbmNlX2V4dCIgaW4gdi5rZXlzKCk6CiAgICAgICAgICAgICAgICBpZiB2WyJzZXF1ZW5jZV9leHQiXSA9PSAnVHJ1ZSc6CiAgICAgICAgICAgICAgICAgICAgcmVjb3JkU2VxX2V4dD1rZXkKICAgICAgICAgICAgICAgICAgICBmb2xsd19SY2RfQ2hhcnM9dlsic2VxX2lkZW50X2NoYXIiXQogICAgcmV0dXJuIHJlY29yZEZsdXNoLHJlY29yZFNlcSxyZWNvcmRTZXFfZXh0LHNlY19vcmQsZm9sbHdfUmNkX0NoYXJzCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIyAKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgcG9wdWxhdGVOdWxscyA6ICBwb3B1bGF0ZXMgbnVsbHMgZm9yIHRoZSByZWNvcmQgdGhhdCBkb2Vzbid0IGV4aXN0IGluIHRoZSBpbnB1dCBmaWxlLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgIFJldHVybnMgICBwaXBlIGRlbGltaXRlZCBudWxsIHN0cmluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgpkZWYgcG9wdWxhdGVOdWxscyhpdGVtLGpzb25fbG9hZCk6CiAgICByZXMgPSAnJwogICAgZm9yIGkgaW4gcmFuZ2UgKDEsbGVuKGpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJjb2x1bW5zIl1bMF1baXRlbV0uc3BsaXQoJ3wnKSkrMSk6CiAgICAgICAgcmVzID0gcmVzICsgJ251bGx8JwogICAgcmV0dXJuIHJlcwoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgIG1vdmVUb0hERlMgOiAgY29waWVzIHRoZSBwcm9jZXNzZWQgZmlsZSBmcm9tIHRoZSBuZXR3b3JrIHdpcCBkcml2ZSB0byBIREZTLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICBSZXR1cm5zICAgTm9uZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKZGVmIG1vdmVUb0hERlMocHJvZ0pvYlBhdGgsam9iTmFtZSx0YWJsZSxnX2hkcF9sb2MsbndfRHJpdmUpOgogICAgcHJpbnQgJ2VuZCB0aW1lJytzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpCiAgICBmbGVFeHN0PSIvJXMvJXMvJXMudHh0IiUoZ19oZHBfbG9jLGpvYk5hbWUsdGFibGUpCiAgICBwcmludCBmbGVFeHN0CiAgICByZXM9cm1ySGRmcyhmbGVFeHN0KQogICAgcHJpbnQgcmVzCiAgICBmbGVfb3V0TG9jPSIvJXMvJXMvd2lwLyVzLnR4dCIlKG53X0RyaXZlLHByb2dKb2JQYXRoLHRhYmxlKQogICAgcHJpbnQgZmxlX291dExvYwogICAgZmxlVG9IZHA9IiVzIC8lcy8lcy8iJShmbGVfb3V0TG9jLGdfaGRwX2xvYyxqb2JOYW1lKQogICAgcHJpbnQgZmxlVG9IZHAKICAgIHB1dEhkZnMoZmxlVG9IZHApCiAgICBvcy5yZW1vdmUoZmxlX291dExvYykKCgpkZWYgdGVzdEhkZnMoYWJzUHRoKToKICAgIGZsZUV4c3Q9ImhhZG9vcCBmcyAtdGVzdCAtZSAlcyIlKGFic1B0aCkKICAgIHJldHVybiBzdWJwcm9jZXNzLmNhbGwoZmxlRXhzdCxzaGVsbCA9IFRydWUpCmRlZiBybXJIZGZzKGFic1B0aCk6CiAgICAjZmxlRXhzdD0iaGFkb29wIGZzIC10ZXN0IC1lICVzIiUoYWJzUHRoKQogICAgcnRybmNkPXRlc3RIZGZzKGFic1B0aCkKICAgIGlmIGludChydHJuY2QpPT0wOgogICAgCWhhZG9vcGZzam9iID0gImhhZG9vcCBmcyAtcm1yICVzIiAlIChhYnNQdGgpCiAgICAJb3Muc3lzdGVtKGhhZG9vcGZzam9iKQogICAgcmV0dXJuIHJ0cm5jZAoKZGVmIGNhdEhkZnMoYWJzUHRoKToKICAgIGhhZG9vcEZzSm9iID0gImhhZG9vcCBmcyAtY2F0ICVzIiAlIChhYnNQdGgpCiAgICByc2x0U3QgPSBjb21tYW5kcy5nZXRvdXRwdXQoaGFkb29wRnNKb2IpCiAgICByZXR1cm4gcnNsdFN0CgpkZWYgcHV0SGRmcyhhYnNQdGgpOgogICAgIGZsZVRvSGRwPSJoZGZzIGRmcyAtcHV0ICVzIiUoYWJzUHRoKQogICAgIG9zLnN5c3RlbShmbGVUb0hkcCkKCmRlZiBmbGVDaGVjayhhYnNQdGgscHJjRmxlLG1vZGUpOgogICAgaWYgbW9kZT09J3InOgogICAgICAgIGlmIG9zLnBhdGguaXNmaWxlKGFic1B0aCk6CiAgICAgICAgICAgIHByaW50ICIlcyBGaWxlIEV4aXN0cywgbG9hZGluZyB0aGUgZmlsZSIlKHByY0ZsZSkKICAgICAgICAgICAgZmxlMlJlYWQ9b3BlbihhYnNQdGgsbW9kZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCAiVGhlICVzIHlvdSBsb2FkZWQgZG9lc24ndCBleGlzdCBpbiB0aGUgbG9jYXRpb24gcGxlYXNlIHJlY2hlY2sgdGhlIGxvY2F0aW9uIiUocHJjRmxlKQogICAgICAgICAgICBlcnJNc2c9IlRoZSAlcyB5b3UgbG9hZGVkIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIGxvY2F0aW9uIHBsZWFzZSByZWNoZWNrIHRoZSBsb2NhdGlvbiIgJShwcmNGbGUpCiAgICAgICAgICAgIGRlTXNnPSJQbGVhc2UgY2hlY2sgdGhlIGlmICVzIGV4aXN0cyBmb3IgdGhlIHByb2Nlc3MgaW4gdGhlIGxvY2F0aW9uIC0tICVzIiUocHJjRmxlLGFic1B0aCkKICAgICAgICAgICAgZm5sU3RyZz1lcnJNc2crJ1xuJytkZU1zZwogICAgICAgICAgICBzZW5kRXJyb21haWwoZm5sU3RyZywnJXMgZG9lc250IGV4c2lzdCclKHByY0ZsZSksJycpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICBlbHNlOgogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgb3MucGF0aC5pc2ZpbGUoYWJzUHRoKSBhbmQgbW9kZT09J2ErJzoKICAgICAgICAgICAgICAgIGZsZTJSZWFkPW9wZW4oYWJzUHRoLG1vZGUpCiAgICAgICAgICAgIGVsaWYgb3MucGF0aC5pc2ZpbGUoYWJzUHRoKSBhbmQgbW9kZT09J3cnOgogICAgICAgICAgICAgICAgb3MucmVtb3ZlKGFic1B0aCkKICAgICAgICAgICAgICAgIGZsZTJSZWFkPW9wZW4oYWJzUHRoLG1vZGUpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBmbGUyUmVhZD1vcGVuKGFic1B0aCwndycpCiAgICAgICAgZXhjZXB0IElPRXJyb3IgYXMgZToKICAgICAgICAgICAgcHJpbnQgImNhbm5vdCBvcGVuIGZpbGUgKHswfSk6IHsxfSIuZm9ybWF0KGUuZXJybm8sIGUuc3RyZXJyb3IpCiAgICAgICAgICAgIGVyck1zZz0iY2Fubm90IG9wZW4gZmlsZSAoezB9KTogezF9Ii5mb3JtYXQoZS5lcnJubywgZS5zdHJlcnJvcikKICAgICAgICAgICAgZGVNc2c9IlBsZWFzZSBDaGVjayB0aGUgZmlsZXBhdGg6ICVzIiAlKGFic1B0aCkKICAgICAgICAgICAgZm5sU3RyZz1lcnJNc2crJ1xuJytkZU1zZwogICAgICAgICAgICBzZW5kRXJyb21haWwoZm5sU3RyZywnJXMgZG9lc250IGV4c2lzdCclKHByY0ZsZSksJycpCiAgICAgICAgICAgIHN5cy5leGl0KDEpCiAgICByZXR1cm4gZmxlMlJlYWQKICAgIAoKZGVmIHRtZVN0bXBDaGVjayhmbGVTemVDaGssdHNPdXRwdXQsY3VyVFNUTXAsdGFibGUpOgogICAgaWYgZmxlU3plQ2hrPT1UcnVlOgogICAgICAgIHByaW50ICdUaW1lIGxvZyBpcyBlbXB0eScKICAgIGVsc2U6CiAgICAgICAgZm9yIGR0ZSBpbiB0c091dHB1dDoKICAgICAgICAgICAgaWYgY3VyVFNUTXA9PWR0ZS5zdHJpcCgpOgogICAgICAgICAgICAgICBwcmludCAnUHJvY2VzcyAlcyclKHRhYmxlKQogICAgICAgICAgICAgICBwcmludCAnVGhpcyBmaWxlIHdhcyBhbHJlYWR5IHByb2Nlc3NlZCBmb3IgdGltZXN0YW1wIGluIGxvZ3MgJXMscHJvZ3JhbSBleGl0aW5nJyUoY3VyVFNUTXApCiAgICAgICAgICAgICAgIGVyck1zZz0iVGhpcyBmaWxlIHdhcyBhbHJlYWR5IHByb2Nlc3NlZCBmb3IgdGltZXN0YW1wIGluIGxvZ3MgLSVzLHByb2dyYW0gZXhpdGluZyBAICVzICIgJShjdXJUU1RNcCxzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpKQoJICAgICAgIGRlTXNnPSJQbGVhc2UgY2hlY2sgdGhlIGlucHV0IGZpbGUgcGFzc2VkIiAgCgkgICAgICAgZm5sU3RyZz1lcnJNc2crJ1xuJytkZU1zZwoJICAgICAgIHNlbmRFcnJvbWFpbChmbmxTdHJnLCdJbnB1dCBGaWxlIFBhcnNlZCBBbHJlYWR5Jyx0YWJsZSkKICAgICAgICAgICAgICAgc3lzLmV4aXQoMSkKICAgIHJldHVybiAnVGltZXN0YW1wIENoZWNrIGNvbXBsZXRlZCcKICAgICAgICAgCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgCiMvICAgICAgZmx1c2hPdXRwdXQgOiAgZmx1c2ggZWFjaCBvZiB0aGUgcmVjb3JkcyBpbiB0aGUgZGljdGlvbmFyaWVzW2RpY3Qsc2VxRGljdF0gaW50byBvdXRwdXQgZmlsZS4gICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICBOb3RlOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICBXaGVuZXZlciB0aGVyZSBhcmUgcmVjb3JkcyBpbiB0aGUgc2VxRGljdCAsd2hpbGUgbG9vcCBleGVjdXRlcyB0aWxsIGNudHIgaXMgbGVzcyB0aGFuIGxlbmd0aCBvZiBzZXFEaWN0LiAgICAgICAgICAvIwojLyAgICAgICAgVGhpcyBtZXRob2Qgd2lsbCBjYWxsIHBvcHVsYXRlTnVsbHMoKSBtZXRob2QgdG8gcG9wdWxhdGUgbnVsbHMgZm9yIHRoZSBrZXlzIHRoYXQgZG9lc24ndCBleGlzdCBpbiBkaWN0aW9uYXJpZXMuICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICBSZXR1cm5zIHJlc19jbnQgZm9yIHRoZSBjb3VudCBkZWJ1Z2dpbmcgcHVycG9zZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCgoKZGVmIGZsdXNoT3V0cHV0KGFzX29mX2R0LGJ1c19mbGFnLGRpY3Qsc2VxRGljdCxzZXFfZXh0LHJlc19jbnQsanNvbl9sb2FkLHNlcSxvcCxwcm9jX2lkLGluc3J0X3RzLHNlY19vcmQscmVjX2lkLHJlY19pZF9mbCk6CiAgICBvdXRwdXQgPSAnJwogICAgaWYgc2VjX29yZCBpbiBkaWN0LmtleXMoKToKICAgIAljb2xfb3JkZXI9anNvbl9sb2FkWyJkYl9wcm9wIl1bMF1bInNlY19jb2xfb3JkZXIiXQogICAgZWxzZToKICAgICAgICBjb2xfb3JkZXI9anNvbl9sb2FkWyJkYl9wcm9wIl1bMF1bImNvbF9vcmRlciJdCiAgICBjbnQsbGVudCA9MSwxCiAgICBpZiBib29sKHNlcURpY3QpOgogICAgCWZvciBpIGluIHNlcURpY3Qua2V5cygpOgogICAgICAgICAgICBpZiBsZW50PT1pbnQoaS5zcGxpdCgnXycpWzFdKToKICAgICAgICAgICAgICAgbGVudD1sZW50CiAgICAgICAgICAgIGVsaWYgbGVudDxpbnQoaS5zcGxpdCgnXycpWzFdKToKICAgICAgICAgICAgICAgbGVudD1pbnQoaS5zcGxpdCgnXycpWzFdKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICBsZW50PWxlbnQKICAgIHdoaWxlIFRydWU6CglvdXRwdXQgPSAnJwogICAgICAgIGlmIGNudCA+IGxlbnQ6IAogICAgICAgICAgICBicmVhawogICAgICAgIGZvciBjb2xzIGluIGNvbF9vcmRlcjoKCSAgICBpZiBjb2xzIGluIGRpY3Qua2V5cygpIDoKICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCArIGRpY3RbY29sc10KICAgICAgICAgICAgZWxpZiBjb2xzIGluIHNlcToKICAgICAgICAgICAgICAgIGlmIGNvbHMrJ18nK3N0cihjbnQpIGluIHNlcURpY3Qua2V5cygpOiAKICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCArIHNlcURpY3RbY29scysnXycrc3RyKGNudCldCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0ICsgcG9wdWxhdGVOdWxscyhjb2xzLGpzb25fbG9hZCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCArIHBvcHVsYXRlTnVsbHMoY29scyxqc29uX2xvYWQpCiAgICAgICAgY250ID0gY250KzEKICAgICAgICByZWNfaWQ9cmVjX2lkKzEKICAgICAgICBpZiBidXNfZmxhZz09J1RydWUnOgogICAgICAgICAgIGlmIHJlY19pZF9mbD09J1RydWUnOgoJICAgICAgb3V0cHV0ID0gc3RyKHJlY19pZCkrJ3wnK2FzX29mX2R0Kyd8JytvdXRwdXQgKyBwcm9jX2lkICsgJ3wnICsgaW5zcnRfdHMgKydcbicKICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgIG91dHB1dCA9IGFzX29mX2R0Kyd8JytvdXRwdXQgKyBwcm9jX2lkICsgJ3wnICsgaW5zcnRfdHMgKydcbicKICAgICAgICBlbHNlOgogICAgICAgICAgIG91dHB1dD1vdXRwdXQgKyBwcm9jX2lkICsgJ3wnICsgaW5zcnRfdHMgKydcbicKICAgICAgICBvcC53cml0ZShvdXRwdXQpCiAgICAgICAgcmVzX2NudCA9IHJlc19jbnQgKyAxCiAgICAKICAgIHJldHVybiByZXNfY250LHJlY19pZAoKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jIAojLyAgICAgIHBhcnNlTGluZSA6IFRoaXMgbWV0aG9kIHdpbGwgdGFrZSB0aGUgaW5wdXQgbGluZSBhbmQgcGFyc2Ugd2l0aCByZXNwZWN0aXZlIHRvIHRoZSBqc29uIGxheW91dCAuICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgTm90ZTogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgVGhpcyBtZXRob2QgaXRlcmF0ZXMgb3ZlciB0aGUgY29sdW1ucyBwZXIga2V5IGluIHRoZSBqc29uIGxheW91dCBhbmQgcGFyc2VzIG91dCB0aGUgcG9zaXRpb25zIGFuZCBkYXRhIHR5cGUgICAgICAgLyMKIy8gICAgICAgIG9mIGVhY2ggY29sdW1uIGFuZCBvcmdhbml6ZSB0aGUgaW5wdXQgbGluZSBpbnRvIHBpcGUgZGVsaW1pdGVkIGZvcm1hdHRlZCByb3cuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgIFJldHVybnMgZm9ybWF0dGVkIHN0cmluZyBvZiB0aGUgaW5wdXQgbGluZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICB2LjAxIHVwZGF0ZWQgdGhlIGNvZGUgdG8gaGFuZGxlIHRoZSBkaWZmZXJlbnQgZGF0ZSBmb3JtYXRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCiAgICAKZGVmIHBhcnNlTGluZShpdGVtLGxpbmUsanNvbl9sb2FkKToKICAgIHJlc19zdCA9ICcnCiAgICB0cmltX2NrID0gRmFsc2UKICAgIGZvciB2YWwgaW4ganNvbl9sb2FkWyJkYl9wcm9wIl1bMF1bImNvbHVtbnMiXVswXVtpdGVtXS5zcGxpdCgnfCcpOgogICAgICAgIHN0ID0gJycKCWlmIGxlbihqc29uX2xvYWRbaXRlbV1bMF1bImF0dHJpYiJdW3ZhbF1bMF0uc3BsaXQoJywnKSkgPiAzOgoJICAgIHN0YXJ0LGVuZCxkYXRhX3R5cGUsdCA9IGpzb25fbG9hZFtpdGVtXVswXVsiYXR0cmliIl1bdmFsXVswXS5zcGxpdCgnLCcpCgkgICAgaWYgdCA9PSAnc3RyaXAoKSc6CgkJdHJpbV9jayA9IFRydWUKCWVsc2U6ICAgICAgIAoJICAgIHN0YXJ0LGVuZCxkYXRhX3R5cGUgPSBqc29uX2xvYWRbaXRlbV1bMF1bImF0dHJpYiJdW3ZhbF1bMF0uc3BsaXQoJywnKQogICAgICAgIAogICAgICAgIGlmIGxpbmVbaW50KHN0YXJ0KTppbnQoZW5kKV0uc3RyaXAoKSA9PSAnJzoKICAgICAgICAgICAgc3QgPSAnbnVsbCcKICAgICAgICBlbGlmIGRhdGFfdHlwZSBpbiAoJyVtJWQlWScsJyVZJW0lZCcsJyV5JW0lZCcsJyVZJWonLCclbSVkJXknLCclbS8lZC8lWScpOgogICAgICAgICAgICBkeW5fWmVyb19mbHI9JzAnCiAgICAgICAgICAgIGZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCiAgICAgICAgICAgIGlmIGxpbmVbaW50KHN0YXJ0KTppbnQoZW5kKV0uc3RyaXAoKSE9ZHluX1plcm9fZmxyLnpmaWxsKGxlbihsaW5lW2ludChzdGFydCk6aW50KGVuZCldLnN0cmlwKCkpKSBhbmQgbGluZVtpbnQoc3RhcnQpOmludChzdGFydCkrNF0uc3RyaXAoKSE9JzAwMDAnOiNkeW5fWmVyb19mbHIuemZpbGwoaW50KGVuZCktaW50KHN0YXJ0KSk6CiAgICAgICAgICAgIAlzdCA9ICBzdHIoZGF0ZXRpbWUuc3RycHRpbWUobGluZVtpbnQoc3RhcnQpOmludChlbmQpXSxkYXRhX3R5cGUpLmRhdGUoKSkgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc3Q9J251bGwnCiAgICAgICAgZWxpZiBkYXRhX3R5cGUgPT0gJ2ludCc6CiAgICAgICAgICAgIGlmIGxpbmVbaW50KHN0YXJ0KTppbnQoZW5kKV0uc3RyaXAoKSE9Jyc6CiAgICAgICAgICAgIAlzdCA9IGxpbmVbaW50KHN0YXJ0KTppbnQoZW5kKV0uc3RyaXAoKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc3Q9bnVsbAogICAgICAgIGVsaWYgZGF0YV90eXBlLnN0YXJ0c3dpdGgoJ2RlY2ltYWwnKToKICAgICAgICAgICAgcHJlLHNjYSA9IGRhdGFfdHlwZS5zcGxpdCgnKCcpWzFdLnNwbGl0KCd8JykKICAgICAgICAgICAgc2NhID0gaW50KHNjYS5yZXBsYWNlKCcpJywnJykpCiAgICAgICAgICAgIGlmIGxlbihsaW5lW2ludChzdGFydCk6aW50KGVuZCldKSA8IGludChwcmUpOgogICAgICAgICAgICAgICAgc3Q9bGluZVtpbnQoc3RhcnQpOmludChlbmQpXS56ZmlsbChpbnQocHJlKSkKICAgICAgICAgICAgc3QgPSBsaW5lW2ludChzdGFydCk6aW50KGVuZCktc2NhXSArJy4nICtsaW5lW2ludChlbmQpLXNjYTppbnQoZW5kKV0KICAgICAgICBlbGlmIGRhdGFfdHlwZSA9PSAnbnVsbCc6CiAgICAgICAgICAgIHN0PSdudWxsJwogICAgICAgIGVsaWYgZGF0YV90eXBlLnN0YXJ0c3dpdGgoJ1NkZWNpbWFsJyk6CiAgICAgICAgICAgIHByZSxzY2EgPSBkYXRhX3R5cGUuc3BsaXQoJygnKVsxXS5zcGxpdCgnfCcpCiAgICAgICAgICAgIHNjYSA9IGludChzY2EucmVwbGFjZSgnKScsJycpKQogICAgICAgICAgICBpbnRyX1Jlc2x0PWxpbmVbaW50KHN0YXJ0KTppbnQoZW5kKV0KICAgICAgICAgICAgc3BjbF9DaHI9cmUuZmluZGFsbChyJ1teMC05Ol0nLGludHJfUmVzbHQpCiAgICAgICAgICAgIGZvciBjaHIgaW4gc3BjbF9DaHI6CiAgICAgICAgICAgICAgICBpbmR4PWludHJfUmVzbHQuaW5kZXgoY2hyKQogICAgICAgICAgICAgICAgY2hyX0NvbnY9Y2hyLmVuY29kZSgnY3AxMTQwJykuZW5jb2RlKCJoZXgiKQogICAgICAgICAgICAgICAgaWYgY2hyX0NvbnZbMDoxXT09J2MnOgogICAgICAgICAgICAgICAgICAgIGludHJfUmVzbHQ9aW50cl9SZXNsdC5yZXBsYWNlKGNocixjaHJfQ29udlstMV0pCiAgICAgICAgICAgICAgICAgICAgaW50cl9SZXNsdD0nKycraW50cl9SZXNsdFswOmludChwcmUpLXNjYV0rJy4nK2ludHJfUmVzbHRbaW50KHByZSktc2NhOl0KICAgICAgICAgICAgICAgIGVsaWYgY2hyX0NvbnZbMDoxXT09J2QnOgogICAgICAgICAgICAgICAgICAgIGludHJfUmVzbHQ9aW50cl9SZXNsdC5yZXBsYWNlKGNocixjaHJfQ29udlstMV0pCiAgICAgICAgICAgICAgICAgICAgaW50cl9SZXNsdD0nLScraW50cl9SZXNsdFswOmludChwcmUpLXNjYV0rJy4nK2ludHJfUmVzbHRbaW50KHByZSktc2NhOl0KICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgaW50cl9SZXNsdD1pbnRyX1Jlc2x0LnJlcGxhY2UoY2hyLGNocl9Db252Wy0xXSkKICAgICAgICAgICAgICAgICAgICBpbnRyX1Jlc2x0PWludHJfUmVzbHRbMDppbnQocHJlKS1zY2FdKycuJytpbnRyX1Jlc2x0W2ludChwcmUpLXNjYTpdCiAgICAgICAgICAgIHN0ID0gaW50cl9SZXNsdAogICAgICAgICAgICAKICAgICAgICBlbHNlOgogICAgICAgICAgICBzdCA9IGxpbmVbaW50KHN0YXJ0KTppbnQoZW5kKV0ucmVwbGFjZSgnXHgwMCcsJyAnKS5yZXBsYWNlKCd8JywnJykucmVwbGFjZSgnXFwnLCdcXFxcJykuc3RyaXAoKQoKCWlmIHRyaW1fY2s6CgkgICAgZXhlYyAic3QgPSAnJXMnLiVzIiAlKHN0LHQpCgkgICAgdHJpbV9jayA9IEZhbHNlCiAgICAgICAgcmVzX3N0ID0gcmVzX3N0ICsgc3QgKyd8JyAKICAgIHJldHVybiByZXNfc3QKCgoKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jIAojLyAgICAgIHByb2Nlc3MgOiBUaGlzIG1ldGhvZCBpcyB0aGUgZGVjaXNpb24gbWFrZXIgYW5kIGNvcmUgb2YgdGhpcyBwcm9ncmFtIGl0IHdpbGwgaWRlbnRpZnkgdGhlIGxpbmVzIHRoYXQgbmVlZHMgdG8gICAgICAgLyMKIy8gICAgICAgICAgICAgICAgYmUgaWdub3JlZCBhbmQgZmx1c2ggdGhlIHJlc3VsdCBzZXQgcHJvY2Vzc2VkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgTm90ZTogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgVGhpcyBtZXRob2QgaGF2ZSBhbGwgdGhlIGRpY3Rpb2FucmllcyBpbml0aWFsaXphdGlvbiB0byBrZWVwIHRoZSByZWNvcmQgc2V0IHRoYXQgbmVlZHMgdG8gYmUgZmx1c2hlZCBldmVyeSB0aW1lICAgLyMKIy8gICAgICAgIGl0IHNlZXMgdGhlIGZsdXNoIGl0ZW0gKHdoaWNoIG1lYW4gc3RhcnQgb2YgdGhlIHJlY29yZCBzZXQgW0NJQSxDSUIsQ0lDXSxbQ0lBLENJQl0gd2hpY2ggaXMgIkNJQSIgaW4gdGhpcyBjYXNlKS4gIC8jCiMvICAgICAgICBMaW5lIzM0MyA6IFRoaXMgbWV0aG9kIGhhcyB0aGUgbG9naWMgdG8gaWRlbnRpZnkgdGhlIHNlcXVlbmNlIGZsYWcgZW5hYmxlZCBrZXlzIGFuZCByb3V0ZSB0aGVtICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICBhcHByb3ByaWF0ZSBoYW5kbGluZyBwcm9jZXNzLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgIFRoZXJlIGFyZSBtYW55IGZsYWdzIHRoYXQgd2lsbCBoZWxwIHRoZSBzY3JpcHQgdG8gbmF2aWdhdGUgdGhlIGxpbmUgdG8gcGFyc2VMaW5lIG1ldGhvZCBmb3IgZnVydGhlciAgICAgICAgICAgICAgIC8jCiMvICAgICAgICB0cmFuc2Zvcm1hdGlvbnMuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgVGhpcyBtZXRob2Qgd2lsbCBjYWxsIHRoZSBwYXJzZUxpbmUgYW5kIGZsdXNoIG1ldGhvZCB0byB0cmFuc2Zvcm0gYW5kIHRoZSBwdXNoIHRoZSBsaW5lIHRvIG91dHB1dCBmaWxlLiAgICAgICAgICAgLyMKIy8gICAgICAgICJtdWxfc2VxX0NudCIgd2lsbCBzdG9yZSB0aGUgY250ciBmb3IgdGhlIGtleSBpbiBjYXNlIG9mIHNlcXVlbmNlICBhbmQgdXBkYXRlIGZvciBlYWNoIG9jY3VyZW5jZSBvZiB0aGUga2V5ICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIyAgICAgICAgICAgIAojLyAgICAgUmV0dXJucyAgdGhlIGNvdW50IG9mIGxpbmVzIHdyaXR0ZW4gdG8gdGhlIGZpbGUgYW5kIHRpbWVzdGFtcCBmcm9tIGZpbGUgZm9yIGxvZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKCgpkZWYgcHJvY2Vzcyhqc29uX2xvYWQsaW5wLG9wLHRzT3V0cHV0LGZsZVN6ZUNoayx0YWJsZSk6CiAgICAKICAgIGZsdXNoLHNlcSxzZXFfZXh0LHNlY19vcmQsZm9sbHdfUmNkX0NoYXJzID0gcmVhZExheW91dChqc29uX2xvYWQpCiAgICBwcmludCBmbHVzaCxzZXEsc2VxX2V4dCxzZWNfb3JkLGZvbGx3X1JjZF9DaGFycwogICAgY250LHNlcV9jbnQscmVzX2NudCxyZWNfaWQ9MCwwLDAsMAogICAgcHJvY19pZD1qc29uX2xvYWRbImRiX3Byb3AiXVswXVsiaGRmc19wcm9jX2lkIl0KICAgIGluc3J0X3RzID0gc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKQogICAgYXNfb2ZfZHQ9JycKICAgIGJ1c19mbGFnPSdGYWxzZScKICAgIGlmICJidXNfcHJvY19kdCIgaW4ganNvbl9sb2FkWyJkYl9wcm9wIl1bMF0ua2V5cygpOgoJYnVzX2ZsYWc9anNvbl9sb2FkWyJkYl9wcm9wIl1bMF1bImJ1c19wcm9jX2R0Il0KICAgIHJlY19pZF9mbD0nRmFsc2UnCiAgICBtdWxfc2VxX0NudD17fQogICAgZGZsdF9LZXk9JycKICAgIGxlbl9vZl9sbmU9aW50KGpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJsZW5fb2ZfbG5lIl0pCiAgICBsc1BvcyxsZVBvcz1qc29uX2xvYWRbImRiX3Byb3AiXVswXVsibGluZV9kZWZhdWx0X2NoYXIiXVswXS5zcGxpdCgnLCcpCiAgICBmcnN0RGljdCxzZXFEaWN0PXt9LHt9CiAgICBoZHJMbmUsc1BvcyxlUG9zPWpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJ0c192YWxpZCJdWzBdLnNwbGl0KCcsJykKICAgIHRyTHI9anNvbl9sb2FkWyJUcmFpbGVyIl1bMF1bIlNlcSJdCiAgICBwcmludCAnc3RhcnQgdGltZScrc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKQogICAgaXNQb3MsaWVQb3M9MCwwCiAgICBpdGVtLHJlY3JkX2V4dD0nJywnJwogICAgZm9yIGxpbmUgaW4gaW5wOgogICAgICAgIHVuaV9DaHI9cmUuZmluZGFsbChyJ1teXHgwMC1ceDdGXScsbGluZSkKICAgICAgICBpZiBsZW4odW5pX0NocikhPTA6IAogICAgICAgICAgICBmb3IgY2hyIGluIHVuaV9DaHI6CgkgICAgICAgIGNocl9JbmR4PWxpbmUuaW5kZXgoY2hyKQogICAgICAgICAgICAgICAgbGluZT0nJy5qb2luKGxpbmVbMDpjaHJfSW5keF0rJyAnK2xpbmVbY2hyX0luZHgrMTpdKQogICAgICAgIAogICAgICAgIGlmICdub19yZWNfdHlwJyBpbiBqc29uX2xvYWRbImRiX3Byb3AiXVswXS5rZXlzKCkgYW5kIG5vdCBsaW5lLnN0YXJ0c3dpdGgoaGRyTG5lKSBhbmQgbm90IGxpbmUuc3RhcnRzd2l0aCh0ckxyKToKICAgCQlkZmx0X0tleT1mbHVzaAogICAgICAgIGxpbmU9bGluZS5yc3RyaXAoKS5sanVzdChsZW5fb2ZfbG5lKStkZmx0X0tleQogICAgICAgIGlmIGxpbmUuc3RhcnRzd2l0aChoZHJMbmUpOgogICAgICAgICAgIHRpbWVTdGFtcD1saW5lW2ludChzUG9zKTppbnQoZVBvcyldLnN0cmlwKCkKICAgICAgICAgICB0c0NoZWNrPXRtZVN0bXBDaGVjayhmbGVTemVDaGssdHNPdXRwdXQsdGltZVN0YW1wLHRhYmxlKQogICAgICAgICAgIAogICAgICAgIGlmIGJ1c19mbGFnPT0nVHJ1ZSc6CgkgICBsbmUsc3RydF9kdCxlbmRfZHQscmVjX2lkX2ZsPWpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJhc19vZl9kdCJdWzBdLnNwbGl0KCcsJykKICAgICAgICAgICBpZiBsaW5lLnN0YXJ0c3dpdGgobG5lKToKICAgICAgICAgICAgICBpZiAoaW50KGVuZF9kdCktaW50KHN0cnRfZHQpKT09ODoKICAgICAgICAgICAgICAJIGFzX29mX2R0PWxpbmVbaW50KHN0cnRfZHQpOmludChzdHJ0X2R0KSs0XSsnLScrbGluZVtpbnQoc3RydF9kdCkrNDppbnQoc3RydF9kdCkrNl0rJy0nK2xpbmVbaW50KHN0cnRfZHQpKzY6aW50KGVuZF9kdCldCiAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICBhc19vZl9kdD1saW5lW2ludChlbmRfZHQpLTQ6aW50KGVuZF9kdCldKyctJytsaW5lW2ludChzdHJ0X2R0KTppbnQoc3RydF9kdCkrMl0rJy0nK2xpbmVbaW50KHN0cnRfZHQpKzM6aW50KHN0cnRfZHQpKzVdCiAgICAgICAgcmVjcmRfZXh0PWxpbmVbaW50KGxzUG9zKTppbnQobGVQb3MpXStsaW5lW2ludChpc1Bvcyk6aW50KGllUG9zKV0KICAgICAgICBpZiAoKChsaW5lLnN0YXJ0c3dpdGgoZmx1c2gpIG9yIGxpbmVbaW50KGxzUG9zKTppbnQobGVQb3MpXT09Zmx1c2ggb3IgcmVjcmRfZXh0PT1mbHVzaCkgb3IgKGxpbmUuc3RhcnRzd2l0aChzZWNfb3JkKSBhbmQgc2VjX29yZCE9JycpKSBvciAobGluZS5zdGFydHN3aXRoKHRyTHIpIG9yIHRyTHI9PSdkZWZhdWx0JykpIGFuZCBjbnQhPTA6CiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKGZyc3REaWN0LmtleXMoKSkhPTA6IAogICAgICAgICAgICAgICAgICAgICAgIHJlc19jbnQscmVjX2lkID0gZmx1c2hPdXRwdXQoYXNfb2ZfZHQsYnVzX2ZsYWcsZnJzdERpY3Qsc2VxRGljdCxzZXFfZXh0LHJlc19jbnQsanNvbl9sb2FkLHNlcSxvcCxwcm9jX2lkLGluc3J0X3RzLHNlY19vcmQscmVjX2lkLHJlY19pZF9mbCkKICAgICAgICAgICAgICAgICAgICAgICBmcnN0RGljdCxzZXFEaWN0PXt9LHt9CiAgICAgICAgICAgICAgICAgICAgICAgbXVsX3NlcV9DbnQ9e30gICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgbGluZS5zdGFydHN3aXRoKHRyTHIpOgogICAgICAgICAgICAgICAgICAgICAgIGNudCxyZWNfaWQ9MCwwCiAgICAgICAgICAgIAogICAgICAgIGlmICBsaW5lW2ludChsc1Bvcyk6aW50KGxlUG9zKV0gaW4ganNvbl9sb2FkLmtleXMoKToKICAgICAgICAgICAgaXRlbT1saW5lW2ludChsc1Bvcyk6aW50KGxlUG9zKV0KICAgICAgICAgICAgaWYgInNlcV9pZGVudF9GTGciIGluIGpzb25fbG9hZFtpdGVtXVswXS5rZXlzKCk6CiAgICAgICAgICAgICAgIGlzUG9zLGllUG9zPWpzb25fbG9hZFtpdGVtXVswXVsic2VxX2lkZW50X3BvcyJdWzBdLnNwbGl0KCcsJykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlzUG9zLGllUG9zPTAsMAogICAgICAgICAgICBpZiBsaW5lW2ludChsc1Bvcyk6aW50KGxlUG9zKV0rbGluZVtpbnQoaXNQb3MpOmludChpZVBvcyldIGluIGpzb25fbG9hZC5rZXlzKCk6CiAgICAgICAgICAgICAgICBpdGVtPWxpbmVbaW50KGxzUG9zKTppbnQobGVQb3MpXStsaW5lW2ludChpc1Bvcyk6aW50KGllUG9zKV0KICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGl0ZW09aXRlbQogICAgICAgICAgICBpZiBsZW4oc2VxKT09MCBhbmQgImF0dHJpYiIgaW4ganNvbl9sb2FkW2l0ZW1dWzBdLmtleXMoKToKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBhcnNlTGluZShpdGVtLGxpbmUsanNvbl9sb2FkKQogICAgICAgICAgICBpZiBsZW4oc2VxKSE9MCBhbmQgaXRlbSBub3QgaW4gc2VxIDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBhcnNlTGluZShpdGVtLGxpbmUsanNvbl9sb2FkKQogICAgICAgICAgICBpZiBpdGVtIGluIHNlcToKICAgICAgICAgICAgICAgIGlDaGFycz1qc29uX2xvYWRbaXRlbV1bMF1bInNlcV9pZGVudF9jaGFyIl0KICAgICAgICAgICAgICAgIGlmIGxpbmVbaW50KGlzUG9zKTppbnQoaWVQb3MpXS5zdHJpcCgpIGluIGlDaGFycyBvciAnZGVmYXVsdCcgaW4gaUNoYXJzOgogICAgICAgICAgICAgICAgICAgIGlmIGl0ZW0gbm90IGluIG11bF9zZXFfQ250OgogICAgICAgICAgICAgICAgICAgICAgICBtdWxfc2VxX0NudFtpdGVtXT0wCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcGFyc2VMaW5lKGl0ZW0sbGluZSxqc29uX2xvYWQpCiAgICAgICAgICAgICAgICAgICAgbXVsX3NlcV9DbnRbaXRlbV09bXVsX3NlcV9DbnRbaXRlbV0rMSAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIGxpbmVbaW50KGlzUG9zKTppbnQoaWVQb3MpXS5zdHJpcCgpIGluIGlDaGFycyBvciAnZGVmYXVsdCcgaW4gaUNoYXJzOgogICAgICAgICAgICAgICAgICAgIHNlcURpY3RbaXRlbSsnXycrc3RyKG11bF9zZXFfQ250W2l0ZW1dKV09cmVzdWx0CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiAiYXR0cmliIiBpbiBqc29uX2xvYWRbaXRlbV1bMF0ua2V5cygpOgogICAgICAgICAgICAgICAgICAgIGlmICJtdWxfcmVjcmRfZnJtdCIgaW4ganNvbl9sb2FkW2l0ZW1dWzBdLmtleXMoKToKICAgICAgICAgICAgICAgICAgICAgICAgZnJzdERpY3RbaXRlbVtpbnQobHNQb3MpOmludChsZVBvcyldXT1yZXN1bHQKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBmcnN0RGljdFtpdGVtXT1yZXN1bHQgIAogICAgICAgICAgICBpZiAgZmx1c2g9PWl0ZW06CiAgICAgICAgICAgICAgICBjbnQ9Y250KzEKICAgIHJldHVybiByZXNfY250LHRpbWVTdGFtcAoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgCiMvICAgICAgcGlncHJvY2VzcyA6IFRoaXMgcHJvY2VzcyBpcyBjYWxsZWQgZm9yIHRoZSBpbnB1dCB0aGF0IGhhcyBzaW5nbGUgcmVjb3JkIHR5cGUgYW5kIGlzIG1vcmUgdGhhbiBhIGdpZ2FieXRlLHRoZSBpbnB1dCAvIwojLyAgICAgICAgICAgICAgICBpcyBjb3BpZWQgdG8gSERGUyBsb2NhdGlvbiBmaXJzdCBhbmQgdXNlcyBwaWcgdG8gcHJvY2VzcyB0aGUgZmlsZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICBOb3RlOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICBUaGlzIG1ldGhvZCB3aWxsIGNyZWF0ZSBwaWdzY3JpcHRzIGluIHRoZSBlbnZpcm9ubWVudChkZXYsdGVzdC4uZXRjKSBwcm9qZWN0Lzxwcm9qZWN0IG5hbWU+L3BpZ3NjcmlwdC9mb2xkZXIgd2l0aCAvIwojLyAgICAgICAgdGhlIGFwcHJvcHJpYXRlIHNjcmlwdCB3aXRoIG5lY2Vzc2FyeSBwYXJhbWV0ZXJzIGxpa2UgbWFwcGluZyB3aWxsIGJlIHdyaXR0ZW4gdG8gdGhpcyBzY3JpcHRzLiAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICBUaGVyZSBpcyBweXVkZihwYXJzZS5weSkgZGV2ZWxvcGVkIGZvciB0aGlzIHByb2Nlc3MgdW5kZXIgKC88ZW52aXJvbm1lbnQ+L3Byb2plY3QvZnJhbWV3b3JrLykgdGhhdCB0YWtlcyBtYXBwaW5nICAvIwojLyAgICAgICAgYXMgcGFyYW1ldGVyIGZyb20gdGhlIHNjcmlwdCBhbmQgcGFzcyBpdCB0byB0aGUgdWRmIHRvIHJldHVybiBhIGZvcm1hdHRlZCBzdHJpbmcuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICBUaGVyZSBhcmUgMiBwaWdzY3JpcHRzIGludm9sdmVkIGluIHRoaXMgcHJvY2VzcyAsdGhlIGZpcnN0IHdpbGwgZmV0Y2ggdGhlIGFzX29mX2R0IGZyb20gdGhlIGZpbGUgYW5kIHJldHVybiB0byBhICAvIwojLyAgICAgICAgZmlsZS5UaGUgbGF0ZXIgc2NyaXB0IHdpbGwgc2VuZCB1bmZvcm1hdHRlZCBsaW5lcyB0byBweXVkZiB0byBkbyBkYXRhIGNsZWFuc2luZyBhbmQgcmV0dXJucyBhIGZvcm1hdHRlZCBsaW5lICAgICAgLyMKIy8gICAgICAgIHdpdGggZGF0ZSBmcm9tIHRoZSBwcmV2aW91cyBwaWcgc2NyaXB0IHJlc3VsdCBhcHBlbmRlZCB0byBpdC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jICAgICAgICAgICAgCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgUmV0dXJucyAgdGhlIGNvdW50IG9mIGxpbmVzIHdyaXR0ZW4gdG8gdGhlIGZpbGUgYW5kIHRpbWVzdGFtcCBmcm9tIGZpbGUgZm9yIGxvZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgpkZWYgcGlncHJvY2Vzcyhqc29uX2xvYWQsaW5wLGpvYk5hbWUsZmxlTm1lLGZsZV9ubV9TcGx0LGZsZVN6ZUNoayx0c091dHB1dCx0YWJsZSxnX2hkcF9sb2MpOgogICAgZmx1c2gsc2VxLHNlcV9leHQsc2VjX29yZCxmb2xsd19SY2RfQ2hhcnMgPSByZWFkTGF5b3V0KGpzb25fbG9hZCkKICAgIG1hcExzdD0nJwogICAgZm9yIGkgaW4ganNvbl9sb2FkWydkYl9wcm9wJ11bMF1bJ2NvbHVtbnMnXVswXVtmbHVzaF0uc3BsaXQoJ3wnKToKICAgICAgICBtYXBMc3QrPXN0cihqc29uX2xvYWRbZmx1c2hdWzBdWydhdHRyaWInXVtpXSkrJ3x8JwogICAgbWFwTHN0PW1hcExzdC5yZXBsYWNlKCInIiwnJykucmVwbGFjZSgndScsJycpCiAgICBwcmludCAnbWFwTHN0IHN0cmluZyBpcycsbWFwTHN0CiAgICBsZW5fb2ZfbG5lPWludChqc29uX2xvYWRbJ2RiX3Byb3AnXVswXVsibGVuX29mX2xuZSJdKQogICAgcHJvY0lkPWpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJoZGZzX3Byb2NfaWQiXQogICAgaW5zcnRfdHMgPSBzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpCiAgICBpZiBqc29uX2xvYWRbImRiX3Byb3AiXVswXVsiYnVzX3Byb2NfZHQiXT09J1RydWUnOgogICAgICAgIGFzX29mX2R0PXN0cihqc29uX2xvYWRbImRiX3Byb3AiXVswXVsiYXNfb2ZfZHQiXSkucmVwbGFjZSgiJyIsJycpLnJlcGxhY2UoJ3UnLCcnKQogICAgZWxzZToKICAgICAgICBhc19vZl9kdD0nJwogICAgI3ByaW50ICdhc19vZl9kdCBiZWZvcmUgdHJhbnNmb3JtYXRpb24nLGFzX29mX2R0CiAgICBoTG5lPWFzX29mX2R0LnJlcGxhY2UoJ1snLCcnKS5yZXBsYWNlKCddJywnJykucmVwbGFjZSgndScsJycpLnNwbGl0KCcsJylbMF0KICAgIHRMbmU9anNvbl9sb2FkWyJUcmFpbGVyIl1bMF1bIlNlcSJdCiAgICB0c1N0bXA9c3RyKGpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJ0c192YWxpZCJdKS5yZXBsYWNlKCInIiwnJykucmVwbGFjZSgndScsJycpCiAgICAjcHJpbnQgJ2FzX29mX2R0IGFmdGVyIHRyYW5zZm9ybWF0aW9uJyxhc19vZl9kdC5yZXBsYWNlKCdbJywnJykucmVwbGFjZSgnXScsJycpLnNwbGl0KCcsJykKICAgICNwcmludCAndHNzdGFtcCBhZnRlciB0cmFuc2Zvcm1hdGlvbnMnLHRzU3RtcC5yZXBsYWNlKCdbJywnJykucmVwbGFjZSgnXScsJycpLnNwbGl0KCcsJykKICAgIAogICAgZmxlVHNFeHN0PSIvJXMvJXMvZGF0ZXRpbWUvJXNfdmFsaWRhdGlvbiIlKGdfaGRwX2xvYyxqb2JOYW1lLGZsZV9ubV9TcGx0KQogICAgdHNFeHN0cmVzPXJtckhkZnMoZmxlVHNFeHN0KQogICAgZmxlaW5IZHA9Ii8lcy8lcy9pbmJvdW5kLyVzIiUoZ19oZHBfbG9jLGpvYk5hbWUsZmxlTm1lKQogICAgaW5IZHByZXM9cm1ySGRmcyhmbGVpbkhkcCkKICAgIGZsZVRvSGRwPSIlcyAvJXMvJXMvaW5ib3VuZC8iJShpbnAsZ19oZHBfbG9jLGpvYk5hbWUpCiAgICBwcmludCBmbGVUb0hkcAogICAgcHV0SGRmcyhmbGVUb0hkcCkKCiAgICAgICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgICAgICAgICMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jIAogICAgICAgICAjLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIyAgICAgIAogICAgICAgICAjLyAgICAgICAgIFBpZyBzY3JpcHQtPjEgZmV0Y2ggdGhlIGFzX29mX2R0IGFuZCB2YWxpZCB0aW1lc3RhbXAgb24gdGhlIGZpbGUuICAgICAgICAvIwogICAgICAgICAjLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwogICAgICAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgCiAgICBwaWdSZWcgPSAicmVnaXN0ZXIgL2hvbWUvcGhkZnRwdXNlci8lcy9wcm9qZWN0L2ZyYW1ld29yay91ZGYvcGFyc2UucHkgdXNpbmcganl0aG9uIGFzIG15X3NwZWNpYWxfdWRmczsgXG4iICUoZ190ZXN0X3ZhcikKICAgIHBpZ0xpbmUxID0gIkEgPSBMT0FEICcvJXMvJXMvaW5ib3VuZC8lcyciJShnX2hkcF9sb2Msam9iTmFtZSxmbGVObWUpICsiQVMgKGxpbmU6Y2hhcmFycmF5KTtcbiIKICAgIHBpZ0xpbmUyID0gIkIgPSBGSUxURVIgQSBCWSBTVUJTVFJJTkcobGluZSwwLDMpPT0nJXMnO1xuIiUoaExuZSkKICAgIHBpZ0xpbmUzID0gIkMgPSBGT1JFQUNIIEIgR0VORVJBVEUgbXlfc3BlY2lhbF91ZGZzLmZldGNoQXNfb2ZfZHQobGluZSwnJXMnLCclcycpO1xuIiUoYXNfb2ZfZHQsdHNTdG1wKQogICAgcGlnTGluZTQgPSAiU1RPUkUgQyBJTlRPICcvJXMvJXMvZGF0ZXRpbWUvJXNfdmFsaWRhdGlvbic7IiAlIChnX2hkcF9sb2Msam9iTmFtZSxmbGVfbm1fU3BsdCkKICAgIAogICAgdG1TdG1wRmlsZSA9ICcvaG9tZS9waGRmdHB1c2VyLyVzL3Byb2plY3QvJXMvcGlnc2NyaXB0LyVzX2dldGRhdGUucGlnJyAlIChnX3Rlc3RfdmFyLGpvYk5hbWUsZmxlX25tX1NwbHQpCiAgICBwcmNGbGU9J3BpZyB0aW1lc3RhbXAgc2NyaXB0JwogICAgbW9kZT0ndycKICAgIHBpZ0pvYkZpbGUgPSBmbGVDaGVjayh0bVN0bXBGaWxlLHByY0ZsZSxtb2RlKQogICAgcGlnSm9iRmlsZS53cml0ZShwaWdSZWcrcGlnTGluZTErcGlnTGluZTIrcGlnTGluZTMrcGlnTGluZTQpICAgIAogICAgcGlnSm9iRmlsZS5jbG9zZSgpCiAgICBwaWdqb2I9ICJwaWcgJXMiICUgKHRtU3RtcEZpbGUpCiAgICBvcy5zeXN0ZW0ocGlnam9iKQogICAgaGFkb29wRnNKb2IgPSAiLyVzLyVzL2RhdGV0aW1lLyVzX3ZhbGlkYXRpb24vcGFydCoiICUgKGdfaGRwX2xvYyxqb2JOYW1lLGZsZV9ubV9TcGx0KQogICAgcnNsdFN0PWNhdEhkZnMoaGFkb29wRnNKb2IpCiAgICBwcmludCByc2x0U3Quc3BsaXQoJ3wnKQogICAgY3VyVFNUTXA9cnNsdFN0LnNwbGl0KCd8JylbMV0KICAgIHRzQ2hlY2s9dG1lU3RtcENoZWNrKGZsZVN6ZUNoayx0c091dHB1dCxjdXJUU1RNcCx0YWJsZSkKICAgIAoKICAgIGZsZVRibEV4c3Q9Ii8lcy8lcy8lcy50eHQiJSAoZ19oZHBfbG9jLGpvYk5hbWUsdGFibGUpCiAgICB0YmxFeHN0cmVzPXJtckhkZnMoZmxlVGJsRXhzdCkKICAgIGZsZUNudEV4c3Q9Ii8lcy8lcy9jb3VudC8lc19jb3VudCIlKGdfaGRwX2xvYyxqb2JOYW1lLHRhYmxlKQogICAgY250RXhzdHJlcz1ybXJIZGZzKGZsZUNudEV4c3QpCgogICAgICAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgICAgICAjLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIyAKICAgICAgICAgIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgICAgICAKICAgICAgICAgIy8gIFBpZyBzY3JpcHQtPjIgUHJvY2VzcyB0aGUgaW5wdXQgbGluZXMgYW5kIHN0b3JlcyB0aGUgZm9ybWF0dGVkIGxpbmVzIGFuZCBjb3VudC4gLyMKICAgICAgICAgIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKICAgICAgICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgIAkKICAgIHBpZ3ByY1JlZyA9ICJyZWdpc3RlciAvaG9tZS9waGRmdHB1c2VyLyVzL3Byb2plY3QvZnJhbWV3b3JrL3VkZi9wYXJzZS5weSB1c2luZyBqeXRob24gYXMgbXlfc3BlY2lhbF91ZGZzOyBcbiIgJShnX3Rlc3RfdmFyKQogICAgcGlncHJjTGluZTEgPSAiQSA9IExPQUQgJy8lcy8lcy9pbmJvdW5kLyVzJyIlKGdfaGRwX2xvYyxqb2JOYW1lLGZsZU5tZSkgKyIgQVMgKGxpbmU6Y2hhcmFycmF5KTtcbiIKICAgIHBpZ3ByY0xpbmUyID0gIkIgPSBGSUxURVIgQSBCWSBTVUJTVFJJTkcobGluZSwwLDMpIT0nJXMnIEFORCBTVUJTVFJJTkcobGluZSwwLDMpIT0nJXMnO1xuIiUoaExuZSx0TG5lKQogICAgcGlncHJjTGluZTMgPSAiQyA9IEZPUkVBQ0ggQiBHRU5FUkFURSBteV9zcGVjaWFsX3VkZnMubG5lUHJvY2VzcyhsaW5lLCclcycsJyVzJywnJXMnLCclcycsJyVzJyk7XG4iJShtYXBMc3QscHJvY0lkLGxlbl9vZl9sbmUsaW5zcnRfdHMscnNsdFN0LnNwbGl0KCd8JylbMF0pCiAgICBwaWdwcmNMaW5lNCA9ICJTVE9SRSBDIElOVE8gJy8lcy8lcy8lcy50eHQnIFVTSU5HIFBpZ1N0b3JhZ2UoKTtcbiIgJSAoZ19oZHBfbG9jLGpvYk5hbWUsdGFibGUpCiAgICBwaWdwcmNMaW5lNSA9ICJEID0gRk9SRUFDSCAoR1JPVVAgQyBBTEwpIEdFTkVSQVRFIENPVU5UKEMpO1xuIgogICAgcGlncHJjTGluZTYgPSAiU1RPUkUgRCBJTlRPICcvJXMvJXMvY291bnQvJXNfY291bnQnIFVTSU5HIFBpZ1N0b3JhZ2UoKTtcbiIlKGdfaGRwX2xvYyxqb2JOYW1lLHRhYmxlKQogCiAgICAKICAgIHBpZ1NjcnBGaWxlID0gJy9ob21lL3BoZGZ0cHVzZXIvJXMvcHJvamVjdC8lcy9waWdzY3JpcHQvJXNfcHJjZmlsZS5waWcnICUgKGdfdGVzdF92YXIsam9iTmFtZSxmbGVfbm1fU3BsdCkKICAgIHByY0ZsZT0ncGlnIHByYXNpbmcgc2NyaXB0JwogICAgbW9kZT0ndycKICAgIHBpZ3ByY0ZpbGUgPSBmbGVDaGVjayhwaWdTY3JwRmlsZSxwcmNGbGUsbW9kZSkKICAgIHBpZ3ByY0ZpbGUud3JpdGUocGlncHJjUmVnK3BpZ3ByY0xpbmUxK3BpZ3ByY0xpbmUyK3BpZ3ByY0xpbmUzK3BpZ3ByY0xpbmU0K3BpZ3ByY0xpbmU1K3BpZ3ByY0xpbmU2KSAgICAKICAgIAogICAgICAgIAogICAgcGlncHJjRmlsZS5jbG9zZSgpCiAgICBwaWdwcmNqb2I9ICJwaWcgLU0gJXMiICUgKHBpZ1NjcnBGaWxlKQogICAgb3Muc3lzdGVtKHBpZ3ByY2pvYikKICAgIGZsZVRibEV4c3Q9Ii8lcy8lcy8lcy50eHQiJSAoZ19oZHBfbG9jLGpvYk5hbWUsdGFibGUpCiAgICBydHJuQ2Q9dGVzdEhkZnMoZmxlVGJsRXhzdCkKICAgIHByaW50IHJ0cm5DZAogICAgaWYgaW50KHJ0cm5DZCk9PTE6CiAgICAgICAgZm5sU3RyZz0nUGlnIFByb2Nlc3MgZmFpbGVkIHBsZWFzZSBjaGVjayB0aGUgcGlnIGxvZycKICAgICAgICBzZW5kRXJyb21haWwoZm5sU3RyZywnUGlnIFByb2Nlc3MgRmFpbGVkJywnJykKICAgICAgICBzeXMuZXhpdCgxKQogICAgaGFkb29wRnNjbnRKb2IgPSAiLyVzLyVzL2NvdW50LyVzX2NvdW50L3BhcnQqIiAlIChnX2hkcF9sb2Msam9iTmFtZSx0YWJsZSkKICAgIHJzbHRDbnQgPSBjYXRIZGZzKGhhZG9vcEZzY250Sm9iKQogICAgcHJpbnQgJ3Jlc3VsdCBjb3VudCBpcycscnNsdENudAogICAgcmV0dXJuIGludChyc2x0Q250KSxyc2x0U3Quc3BsaXQoJ3wnKVsxXQogICAKICAgCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jIAojLyAgICAgIHZhbGlkYXRlIDogVGhpcyBtZXRob2QgdmFsaWRhdGVzIGJldHdlZW4gdGhlIGNvdW50cyByZXR1cm5lZCBmcm9tIHRoZSBwcm9jZXNzIGFuZCBleHRlcm5hbCB0YWJsZSBhbmQgaW5zZXJ0cyAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgcm93cyBpbnRvIHRoZSBpbnRlcm5hbCB0YWJsZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgTm90ZTogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgIFRoaXMgbWV0aG9kIGhhcyB0aGUgZmxhZyB0c190bF9GbGcgd2hpY2ggd2lsbCBzZXQgdG8gIlkiIHdoZW4gaXQgaXMgVEwgYW5kICJOIiB3aGVuIGl0IGlzIFRTIGJhc2Ugb24gdGhlICAgICAgICAgLyMKIy8gICAgICAgICAgIG9wZXJhdGlvbiB2YXJpYWJsZSBhbmQgd2lsbCBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIGhhd3EgZnVuY3Rpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgUmV0dXJucyBOb3RoaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKZGVmIHZhbGlkYXRlKGNvbm4sY3VyLHNjaGVtYSx0YWJsZW5hbWUsZkNvdW50LG9wZXJhdGlvbixmdW5jKToKICAgIGNudF9DaGs9J3NlbGVjdCBjb3VudCgqKSBmcm9tICVzLiVzX2V4dCclKHNjaGVtYSx0YWJsZW5hbWUpCiAgICBpZiBvcGVyYXRpb249PSdUUyc6CiAgICAJdHNfdGw9J3RzJwogICAgICAgIHRzX3RsX0ZsZz0nTicKICAgICAgICBpbnNydD0gInNlbGVjdCAlcygnJXMuJXNfZXh0JywnJXMuJXNfJXMnLCclcycpOyIlKGZ1bmMsc2NoZW1hLHRhYmxlbmFtZSxzY2hlbWEsdGFibGVuYW1lLHRzX3RsLHRzX3RsX0ZsZykKICAgIGVsc2U6CiAgICAgICAgdHNfdGxfRmxnPSdZJwogICAgICAgIGluc3J0PSAic2VsZWN0ICVzKCclcy4lc19leHQnLCclcy4lcycsJyVzJyk7IiUoZnVuYyxzY2hlbWEsdGFibGVuYW1lLHNjaGVtYSx0YWJsZW5hbWUsdHNfdGxfRmxnKQogICAgdHJ5OgogICAgICAgIHByaW50IGluc3J0IAogICAgICAgIHByaW50IGNudF9DaGsKICAgICAgICBjdXIuZXhlY3V0ZShjbnRfQ2hrKQogICAgICAgIGV4dF9DbnQ9Y3VyLmZldGNob25lKClbMF0KICAgICAgICBwcmludCBleHRfQ250CiAgICAgICAgcHJpbnQgdHlwZShmQ291bnQpLHR5cGUoZXh0X0NudCkKICAgICAgICBpZiBleHRfQ250PT1mQ291bnQ6CgkgICBjdXIuZXhlY3V0ZShpbnNydCkKICAgICAgICAgICByZXN1bHRTZXQ9Y3VyLmZldGNob25lKCkKICAgICAgICAgICBjb25uLmNvbW1pdCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICBwcmludCAnY291bnRzIGRvZXNudCBtYXRjaCBwbGVhc2UgY2hlY2sgdGhlIGxvZyB0YWJsZXMnCiAgICAgICAgICAgZXJyTXNnPSJUaGUgQ291bnRzIGJldHdlZW4gdGhlIHByb2dyYW0gY291bnRlciAtICVzIGFuZCBleHRlcm5hbCB0YWJsZSAtICVzIGNvdW50IGRvZXNudCBtYXRjaCIgJShzdHIoZkNvdW50KSxzdHIoZXh0X0NudCkpCgkgICBkZU1zZz0iUGxlYXNlIGNoZWNrIHRoZSBsb2dzLiVzIHRhYmxlIGZvciBtb3JlIGluZm8iJSh0YWJsZW5hbWUpICAKCSAgIGZubFN0cmc9ZXJyTXNnKydcbicrZGVNc2cKCSAgIHNlbmRFcnJvbWFpbChmbmxTdHJnLCdDb3VudHMgRG9lc250IG1hdGNoJyx0YWJsZW5hbWUpCiAgICAgICAgICAgc3lzLmV4aXQoMSkKICAgICAgICBwcmludCAncmVzdWx0U2V0IGlzICcscmVzdWx0U2V0CiAgICAgICAgcHJpbnQgJ2luc2VydCBjb21wbGV0ZScKICAgIGV4Y2VwdCBwc3ljb3BnMi5FcnJvciwgZToKICAgICAgICBwcmludCAnRXJyb3IgJXMnJSBlCiAgICAgICAgZXJyTXNnPSdFcnJvcjogRGF0YWJhc2Ugb3BlcmF0aW9uYWwgaXNzdWUnCiAgICAgICAgZGVNc2c9J0RFQlVHOlBsZWFzZSBjaGVjayB0aGUgcXVlcnkgeW91IHByb3ZpZGVkICVzJyUoZSkKICAgICAgICBmbmxTdHJnPWVyck1zZysnXG4nK2RlTXNnCiAgICAgICAgc2VuZEVycm9tYWlsKGZubFN0cmcsJ0RhdGFiYXNlIE9wZXJhdGlvbmFsIGlzc3VlJywnJykKICAgICAgICBzeXMuZXhpdCgxKQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgCiMvICAgICAgbWFpbiA6IFRoaXMgaXMgdGhlIHN0YXJ0IG9mIHRoZSBzY3JpcHQgd2hlcmUgYWxsIHRoZSBhcmd1bWVudHMgYXJlIHJlYWQgYW5kIHBhc3NlZCB0byBlYWNoIG9mIHRoZSBtZXRob2RzICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICBwcm9jZXNzIGFuZCB2YWxpZGF0ZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMKIy8gICAgICBOb3RlOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8jCiMvICAgICAgICAgICAgVGhpcyBtZXRob2RlIGhhcyB0aGUgImZsZV9SbXZsX0ZsZyIgZmxhZyB3aGljaCB3aWxsIHRlbGwgdGhlIHNjcmlwdCB0byBub3QgdG8gcmVtb3ZlIHRoZSBpbnB1dCBmaWxlIGFzIGl0IGhhcyAvIwojLyAgICAgICAgICAgICAgIG11bGl0cGxlIGxheW91dHMgdG8gYmUgcHJvY2Vzc2VkLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgCiMvICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvIwojLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgoKCmRlZiBtYWluKGFyZ3VtZW50cyk6CiAgICBwcmludCBhcmd1bWVudHMKICAgIHNyY1BycD1hcmd1bWVudHNbMF0KICAgIGlucHV0X2ZpbGU9YXJndW1lbnRzWzFdCiAgICB0cm5TZnJtPWludChhcmd1bWVudHNbMl0pCiAgICBpbnVfRmxubWU9aW5wdXRfZmlsZS5zcGxpdCgnLycpWy0xXQogICAgaWYgJ18nIGluIGlucHV0X2ZpbGUuc3BsaXQoJy8nKVstMV06CglmbGVfbm1fU3BsdD1pbnB1dF9maWxlLnNwbGl0KCcvJylbLTFdLnNwbGl0KCdfJylbMF0KICAgIGVsc2U6CiAgICAgICAgZmxlX25tX1NwbHQ9aW5wdXRfZmlsZS5zcGxpdCgnLycpWy0xXS5zcGxpdCgnLmRhdCcpWzBdICAKICAgIHByaW50IGZsZV9ubV9TcGx0CiAgICBvdXRQYXRoPWlucHV0X2ZpbGUuc3BsaXQoJy8nKQogICAgcHJpbnQgc3RyKGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKQogICAgZmxlU3plQ2hrPUZhbHNlCiAgICByZVJ1bj0wCiAgICBleGVjTHN0PVtdCiAgICBjb25uTHN0PVtdCiAgICBpZiBsZW4oYXJndW1lbnRzKT4zOgogICAgICAgIGlmIGFyZ3VtZW50c1szXS5zcGxpdCgnIycpWzBdPT0ncmVydW4nOgogICAgICAgICAgICByZVJ1bj1pbnQoYXJndW1lbnRzWzNdLnNwbGl0KCcjJylbLTFdKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNvbm5Mc3Q9W2ludCh4KSBmb3IgeCBpbiBhcmd1bWVudHNbM10uc3BsaXQoJyMnKVstMV0uc3BsaXQoJywnKV0KICAgIHByaW50IHJlUnVuLGNvbm5Mc3QKICAgIGZsZVB0aD0nLycuam9pbihzcmNQcnAuc3BsaXQoJy8nKVswOi0yXSkrJy9qc29uLycKICAgIHByaW50ICdhYnNvbHV0ZSBmaWxlIHBhdGgnLGZsZVB0aAogICMgSnNvbiBwb2ludGVyIFByb3BlcnR5IGZpbGUgY2hlY2sKICAgIHByY0ZsZT0ncG9pbnRlciB0byBKc29uIHByb3BlcnR5IGZpbGUnCiAgICBtb2RlPSdyJwogICAganNvblNyY1BudHI9IGZsZUNoZWNrKHNyY1BycCxwcmNGbGUsbW9kZSkKICAgICAgICAKICAgIGZvciBwcnAgaW4ganNvblNyY1BudHI6CiAgICAgICAgZmxlUG50ZXI9cHJwLnNwbGl0KCd8JylbMV0uc3RyaXAoKQogICAgICAgIGlmIHBycC5zcGxpdCgnfCcpWzBdIT0nU1InOgoJICAgIHNyTm89aW50KHBycC5zcGxpdCgnfCcpWzBdLnN0cmlwKCkpCiAgICAgICAgICAgIGlmIHJlUnVuIT0wOgogICAgICAgICAgICAgICAgaWYgc3JObz49cmVSdW46CiAgICAgICAgICAgICAgICAgICBleGVjTHN0LmFwcGVuZChmbGVQbnRlcikKICAgICAgICAgICAgZWxpZiBsZW4oY29ubkxzdCkhPTA6CiAgICAgICAgICAgICAgICBpZiBzck5vIGluIGNvbm5Mc3Q6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ2NhbWUgaGVyZScKICAgICAgICAgICAgICAgICAgICBleGVjTHN0LmFwcGVuZChmbGVQbnRlcikKICAgICAgICAgICAgZWxzZToJCQogICAgICAgICAgICAgICAgZXhlY0xzdC5hcHBlbmQoZmxlUG50ZXIpCiAgICBwcmludCBleGVjTHN0CiAgICBnX2dwX2hvc3QsZ19ncF9kYixnX2hkcF9sb2MsbndfRHJpdmU9Z2V0Q29ubigpCiAgICB0cnk6CiAgICAgICAgICAgIGNvbm4gPSBwc3ljb3BnMi5jb25uZWN0KCJob3N0YWRkcj0lcyBkYm5hbWU9JXMiICUgKGdfZ3BfaG9zdCxnX2dwX2RiKSkKICAgICAgICAgICAgI2Nvbm4uYXV0b2NvbW1pdCA9IFRydWUKICAgICAgICAgICAgY3VyID0gY29ubi5jdXJzb3IoKQogICAgZXhjZXB0ICBwc3ljb3BnMi5FcnJvciwgZToKICAgICAgICAgICAgcHJpbnQgJ1VuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBkYXRhYmFzZSAlcyclIGUKICAgICAgICAgICAgZXJyTXNnPSdFcnJvcjogRGF0YWJhc2UgY29ubmVjaXRpdml0eSBpc3N1ZXMgLSVzJyAlIGUKICAgICAgICAgICAgZGVNc2c9J0RFQlVHOlBsZWFzZSBjaGVjayB0aGUgZGF0YWJhc2UgY29ubmVjdGlvbnMnCiAgICAgICAgICAgIGZubFN0cmc9ZXJyTXNnKydcbicrZGVNc2cKICAgICAgICAgICAgc2VuZEVycm9tYWlsKGZubFN0cmcsJ0lzc3VlIGluIERhdGFiYXNlIENvbm5lY3Rpb24gU3RyaW5nJywnJykKICAgICAgICAgICAgc3lzLmV4aXQoMSkKICAgIGlmIHRyblNmcm09PTA6CiAgICAgICAgICNJbnB1dCBmaWxlIENoZWNrCiAgICAgICAgIHByY0ZsZT0naW5wdXQgZmlsZSBvbiBud19kcml2ZScKICAgICAgICAgbW9kZT0ncicKICAgICAgICAgaW5wPWZsZUNoZWNrKGlucHV0X2ZpbGUscHJjRmxlLG1vZGUpCiAgICAKICAgIGZvciBmbGUgaW4gZXhlY0xzdDoKICAgICAgICBsYXlvdXQ9ZmxlUHRoK2ZsZQogICAgICAgIHByaW50IGxheW91dAogICAgI0pzb24gbGF5b3V0IGNoZWNrIAogICAgICAgIHByY0ZsZT0nSnNvbiBMYXlvdXQgZmlsZScKICAgICAgICBtb2RlPSdyJwogICAgICAgIGxheW91dF9GaWxlPWZsZUNoZWNrKGxheW91dCxwcmNGbGUsbW9kZSkKICAgICAgICBqc29uX2xvYWQgPSBqc29uLmxvYWQobGF5b3V0X0ZpbGUpICAgICAgICAgICAgICAgCiAgICAgICAgc2NoZW1hPWpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJzY2hlbWEiXQogICAgICAgIHRhYmxlPWpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJ0YWJsZSJdCiAgICAgICAgb3BlcmF0aW9uPWpzb25fbG9hZFsiZGJfcHJvcCJdWzBdWyJvcGVyYXRpb24iXQogICAgICAgIGZ1bmM9Z19mdW5jX3ZhcgogICAgICAgIGlmICJtdWxfZmxlX0ZsZyIgaW4ganNvbl9sb2FkWyJkYl9wcm9wIl1bMF0ua2V5cygpOgogICAgICAgICAgICBmbGVfbm1fU3BsdD10YWJsZQogICAgICAgIGNudCx0bVN0bXA9MCwnJwogICAgICAgIG0sc3RydCxzdHA9MCwwLDAKICAgICAgICBmbGVQYXRoPVtdCiAgICAgICAgd2hpbGUgbTwobGVuKG91dFBhdGgpLTEpOgogICAgICAgICAgICBpZiBvdXRQYXRoW21dPT0nJXMnICVud19Ecml2ZToKICAgICAgICAgICAgICAgIHN0cnQ9bQogICAgICAgICAgICBpZiBvdXRQYXRoW21dPT0naW5ib3VuZCc6CiAgICAgICAgICAgICAgICBzdHA9bQogICAgICAgICAgICBtKz0xCiAgICAgICAgZm9yIG4gaW4gcmFuZ2Uoc3RydCsxLHN0cCk6CiAgICAgICAgICAgIGZsZVBhdGguYXBwZW5kKG91dFBhdGhbbl0pCgogICAgICAgIHByb2dKb2JQYXRoPScvJy5qb2luKGZsZVBhdGgpCiAgICAgICAgam9iRmlsZU5hbWUgPW91dFBhdGhbbGVuKG91dFBhdGgpLTFdLnNwbGl0KCcuJykKICAgICAgICBqb2JOYW1lID0gcHJvZ0pvYlBhdGguc3BsaXQoJy8nKVstMV0ubG93ZXIoKQogICAgICAgIHByaW50IHByb2dKb2JQYXRoLGpvYk5hbWUKICAgICAgICAKICAgICAgICB0c1ZhbGlkPScvaG9tZS9waGRmdHB1c2VyLyVzLyVzL2xvZ3MvJXNfdHN0bXAudHh0JyUoZ190ZXN0X3Zhcixqb2JOYW1lLGZsZV9ubV9TcGx0KQogICAgICAgIHByY0ZsZT0ndGltZXN0YW1wIGxvZyBmaWxlJwogICAgICAgIG1vZGU9J2ErJwogICAgICAgIHRzT3V0cHV0PWZsZUNoZWNrKHRzVmFsaWQscHJjRmxlLG1vZGUpCiAgICAgICAgaWYgb3MucGF0aC5nZXRzaXplKHRzVmFsaWQpPT0wOgogICAgICAgICAgICBwcmludCAnR2V0cyBoZXJlJwogICAgICAgICAgICBmbGVTemVDaGs9VHJ1ZQogICAgICAgICAgICAgIAogICAgICAgIGlmIHRyblNmcm09PTA6CiAgICAgICAgICMgb3V0cHV0IGZpbGUgbG9jYXRpb24gb24gbndfZHJpdmUgbG9jYXRpb24gY2hlY2sKICAgICAgICAgICAgZk91dHB1dD0nLyVzLyVzL3dpcC8lcy50eHQnJShud19Ecml2ZSxwcm9nSm9iUGF0aCx0YWJsZSkKICAgICAgICAgICAgcHJjRmxlPSdPdXRwdXQgZmlsZSBvbiBud19kcml2ZScKICAgICAgICAgICAgbW9kZT0ndycKICAgICAgICAgICAgb3V0cHV0PWZsZUNoZWNrKGZPdXRwdXQscHJjRmxlLG1vZGUpCiAgICAgICAgICAgIGNudCx0bVN0bXAgPSBwcm9jZXNzKGpzb25fbG9hZCxpbnAsb3V0cHV0LHRzT3V0cHV0LGZsZVN6ZUNoayx0YWJsZSkKICAgICAgICAgICAgb3V0cHV0LmNsb3NlKCkKICAgICAgICAgICAgcHJpbnQgY250CiAgICAgICAgICAgIG1vdmVUb0hERlMocHJvZ0pvYlBhdGgsam9iTmFtZSx0YWJsZSxnX2hkcF9sb2MsbndfRHJpdmUpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY250LHRtU3RtcD1waWdwcm9jZXNzKGpzb25fbG9hZCxpbnB1dF9maWxlLGpvYk5hbWUsaW51X0Zsbm1lLGZsZV9ubV9TcGx0LGZsZVN6ZUNoayx0c091dHB1dCx0YWJsZSxnX2hkcF9sb2MpCiAgICAgICAgCiAgICAgICAgdmFsaWRhdGUoY29ubixjdXIsc2NoZW1hLHRhYmxlLGNudCxvcGVyYXRpb24sZnVuYykKICAgICAgICB0c091dHB1dC53cml0ZSh0bVN0bXArJ1xuJykKICAgICAgICB0c091dHB1dC5jbG9zZSgpCiAgICAgICAgaWYgdHJuU2ZybT09MDoKICAgICAgICAgICBpbnAuc2VlaygwKQogICAgb3MucmVtb3ZlKGlucHV0X2ZpbGUpCiAgICBwcmludCAnZmlsZSByZW1vdmVkIHN1Y2Nlc3NmdWxseScKICAgIGNvbm4uY29tbWl0KCkKICAgIGN1ci5jbG9zZSgpCiAgICBjb25uLmNsb3NlKCkKICAgIGlmIHRyblNmcm09PTA6CiAgICAgICBpbnAuY2xvc2UoKQogICAgcHJpbnQgJ2NvbXBsZXRlZCcKICAgIHByaW50IHN0cihkYXRldGltZS5kYXRldGltZS5ub3coKSkKCgppZiBfX25hbWVfXz09Il9fbWFpbl9fIjoKICAgIGlmIGxlbihzeXMuYXJndikgaW4gKDIsMyw0LDUpOgogICAgICAgIG1haW4oc3lzLmFyZ3ZbMTpdKQogICAgICAgICAKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgIk5lZWRzIGFuIGxheW91dCwgaW5wdXQgZmlsZSBhcmd1bWVudCBhbmQgZmxpcCBjb2RlIGVpdGhlcjAgZm9yIG11dGxpcGxlIHJlY29yZCB0eXBlIGZpbGVzIGFuZCB1c2UgMSBmb3IgaW5wdXQgZmlsZSB3aXRoIHNpbmdsZSByZWNvcmR0eXBlIGFuZCBtb3JlIHRoYW4gYSBnaWdhYnl0ZSBmb3IgdGhlIHByb2dyYW0gdG8gcHJvY2VlZCBhbmQgb3B0aW9uYWwgcmVydW4gYW5kIGxpc3QgYXJndW1lbnQgd2hlbiBwcm9ncmFtIGV4aXRlZCBhYm5vcm1hbGx5IgogICAgICAgIGVyck1zZz0nRXJyb3I6IEFydWdtZW50cyBlcnJvcicKICAgICAgICBkZU1zZz0nREVCVUc6TmVlZHMgYW4gbGF5b3V0LCBpbnB1dCBmaWxlIGFyZ3VtZW50IGZvciB0aGUgcHJvZ3JhbSB0byBwcm9jZWVkJwogICAgICAgIGZubFN0cmc9ZXJyTXNnKydcbicrZGVNc2cKICAgICAgICBzZW5kRXJyb21haWwoZm5sU3RyZywnSW50aWFsIEFydWd1bWVudCBFcnJvcicsJycpCiAgICAgICAgc3lzLmV4aXQoMSk=</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="-" type="4">
        <text>,&quot;Error LOG File&quot;</text>
      </register>
    </registers>
    <search>
      <last-dir>0</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search />
      <history-cmd />
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed S</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed C</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed X</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
</application>